{"version":3,"file":"property.js","sources":["../src/constant/index.ts","../src/utils/index.ts","../src/utils/locator.ts","../src/utils/neighbor.ts","../src/property.ts"],"sourcesContent":["/**\n * 根据经验，将表现一致的表情符号放在一起\n */\nexport const tagGroupList = [\n    ['input', 'textarea'],\n    ['h1', 'h2', 'h3', 'h4', 'h5'],\n    ['span', 'i'],\n    ['ul', 'li'],\n    ['div', 'section', 'p', 'article'],\n    ['th', 'tr', 'td'],\n    ['strong', 'b'],\n    ['audio', 'video', 'source', 'figure', 'img'],\n];\n/**\n * 常见标签\n */\nexport const commonTagList = [\n    'input',\n    'textarea',\n    'button',\n    'select',\n    'a',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'li',\n    'span',\n    'div',\n    'p',\n    'th',\n    'tr',\n    'td',\n    'label',\n    'svg',\n];\nexport const propertyNames = [\n    'tag',\n    'classList',\n    'id',\n    'name',\n    'href',\n    'alt',\n    'xpath',\n    'idxpath',\n    'isButton',\n    'location',\n    'area',\n    'shape',\n    'visibleText',\n    'neighborText',\n];\n//# sourceMappingURL=index.js.map","import { propertyNames } from '../constant';\nexport function elementIsVisible(element) {\n    const style = getComputedStyle(element);\n    const rect = element.getBoundingClientRect();\n    if (style.visibility === 'hidden' || style.display === 'none' || rect.height == 0 || rect.width == 0) {\n        return false;\n    }\n    return true;\n}\nexport function uniq(arr) {\n    return Array.from(new Set(arr));\n}\nexport function isBoolean(value) {\n    return typeof value === 'boolean';\n}\nexport function uniqElements(elements) {\n    return [...elements].reduce((uniq, element) => {\n        if (!uniq.some((storedElement) => storedElement.contains(element))) {\n            uniq.push(element);\n        }\n        return uniq;\n    }, []);\n}\nexport function getElementByXPath(xpath) {\n    return document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n}\nexport function getElementByCssSelector(selector) {\n    return document.querySelector(selector);\n}\nexport function getElementBySelector(selector) {\n    const isXpath = selector.startsWith('/');\n    return isXpath ? getElementByXPath(selector) : getElementByCssSelector(selector);\n}\nexport function toPrecision(num, precision = 6) {\n    return Number(num.toFixed(precision));\n}\n/**\n * 移除非法字段，仅保留字母和数字\n * @param str\n * @returns\n */\nexport function stripString(str) {\n    return (str || '').replace(/[^a-zA-Z0-9]/g, '');\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isNil(value) {\n    return value === null || value === undefined;\n}\nexport function isArray(value) {\n    return Array.isArray(value);\n}\nexport function isPlainObject(value) {\n    return Object.prototype.toString.call(value) === '[object Object]';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function isEmpty(value) {\n    if (isNil(value)) {\n        return true;\n    }\n    if (isString(value) && !value.length) {\n        return true;\n    }\n    if (isArray(value) && !value.length) {\n        return true;\n    }\n    if (isPlainObject(value) && !Object.keys(value).length) {\n        return true;\n    }\n    if (isNumber(value) && value === 0) {\n        return true;\n    }\n    return false;\n}\n/**\n * 获取数组交集\n * @param a\n * @param b\n */\nexport function intersection(a, b) {\n    return [...new Set(a.filter((item) => b.includes(item)))];\n}\n/**\n * 获取数组并集\n * @param a\n * @param b\n * @returns\n */\nexport function union(a, b) {\n    return [...new Set([...a, ...b])];\n}\nfunction inContainerList(element, containerList) {\n    return containerList.some((container) => container.contains(element));\n}\n/**\n * 获取指定坐标的元素, 排除指定的元素\n * @param excludeContainers\n * @param point\n * @returns\n */\nexport function getOwnElement(excludeContainers, point) {\n    const pointElement = document.elementFromPoint(point.x, point.y);\n    if (!inContainerList(pointElement, excludeContainers)) {\n        return pointElement;\n    }\n    const elements = document.elementsFromPoint(point.x, point.y);\n    return elements.find((element) => !inContainerList(element, excludeContainers));\n}\n/**\n * 根据选择器获取元素列表\n * @param selector\n */\nexport function getElementList(selectors) {\n    return selectors.reduce((acc, selector) => {\n        return [...acc, ...document.querySelectorAll(selector)];\n    }, []);\n}\n/**\n * 获取指定 location 的元素\n * @param location\n * @returns\n */\nexport function getElementFromLocation(location) {\n    const { x, y } = location;\n    const point = { x: Math.floor(x + 1), y: Math.floor(y + 1) }; // 这里没有使用中心点，因为中心可能是子元素\n    return document.elementFromPoint(point.x, point.y);\n}\n/**\n * 获取有效属性值的属性名列表\n * @param properties\n * @returns\n */\nexport function getValidPropertyNames(properties) {\n    return propertyNames.filter((name) => {\n        const value = properties[name];\n        if (isBoolean(value) || isNumber(value)) {\n            return true;\n        }\n        return !isEmpty(value);\n    });\n}\n//# sourceMappingURL=index.js.map","export function getXPath(element) {\n    const idx = (sib, name) => sib ? idx(sib.previousElementSibling, name || sib.localName) + (sib.localName == name) : 1;\n    const segs = (elm) => !elm || elm.nodeType !== 1\n        ? ['']\n        : [\n            ...segs(elm.parentNode),\n            elm instanceof HTMLElement\n                ? `${elm.localName}[${idx(elm)}]`\n                : `*[local-name() = '${elm.localName}'][${idx(elm)}]`,\n        ];\n    return segs(element).join('/');\n}\nexport function getIdXPath(element) {\n    const idx = (sib, name) => sib ? idx(sib.previousElementSibling, name || sib.localName) + (sib.localName == name) : 1;\n    const segs = (elm) => !elm || elm.nodeType !== 1\n        ? ['']\n        : elm.id && document.getElementById(elm.id) === elm\n            ? [`//*[@id='${elm.id}']`]\n            : [\n                ...segs(elm.parentNode),\n                elm instanceof HTMLElement\n                    ? `${elm.localName}[${idx(elm)}]`\n                    : `*[local-name() = '${elm.localName}'][${idx(elm)}]`,\n            ];\n    return segs(element).join('/');\n}\n//# sourceMappingURL=locator.js.map","/**\n * 文本采集\n */\nimport { getElementList, getOwnElement, isEmpty, uniqElements } from '.';\nexport function getElementLocation(element) {\n    const { left, top, width, height } = element.getBoundingClientRect();\n    return {\n        x: Math.floor(left),\n        y: Math.floor(top),\n        width: Math.floor(width),\n        height: Math.floor(height),\n    };\n}\n/**\n * 使用浏览器内置的 Intl.Segmenter API 进行分词\n * 分词性能和 replace 相当\n * @param text\n */\nfunction wordSegmentation(text) {\n    if (isEmpty(text)) {\n        return [];\n    }\n    const segmenter = new Intl.Segmenter('en', {\n        granularity: 'word',\n    });\n    const segments = segmenter.segment(text);\n    return Array.from(segments)\n        .filter((segment) => segment.isWordLike)\n        .map((segment) => segment.segment);\n}\nexport function getVisibleText(element) {\n    // textContent 会获取到隐藏元素的文本，所以使用 innerText\n    const text = ['innerText', 'value', 'placeholder'].map((name) => (element[name] || '').trim()).find(Boolean);\n    return wordSegmentation(text);\n}\nfunction getElementHeight(element) {\n    return element.getBoundingClientRect().height;\n}\n/**\n * 判断是否是有效的邻居节点\n * @param neighborElement\n * @param targetElement\n * @returns\n */\nfunction isValidNeighborElement(neighborElement, targetElement) {\n    if (!neighborElement) {\n        return false;\n    }\n    if (neighborElement === targetElement) {\n        return false;\n    }\n    // 不允许是父节点，因为父节点的文本一般包含子节点的文本\n    if (neighborElement.contains(targetElement)) {\n        return false;\n    }\n    return true;\n}\n/**\n * 判断点是否在元素区域内\n * @param point\n * @param elementLocations\n */\nfunction doesPointInLocation(point, elementLocations) {\n    return elementLocations.some((location) => {\n        const { x, y, width, height } = location;\n        return point.x >= x && point.x <= x + width && point.y >= y && point.y <= y + height;\n    });\n}\n/**\n * 获取元素周围 50px 的文本\n * @param location 元素区域\n * @returns string\n */\nexport function getNeighborText(element, location, option) {\n    const { x, y, width, height } = location;\n    /**\n     * TODO: 元素区域过大时，不进行文本获取 (Why?)\n     */\n    if (height > 100 || width > 600) {\n        return [];\n    }\n    const excludeContainers = getElementList(option?.excludeContainers || []);\n    /**\n     * 元素周围区域(top,right,bottom,left)的起始和结束坐标\n     */\n    const areas = [\n        [x - 50, y - 50, x + width + 50, y],\n        [x + width, y, x + width + 50, y + height],\n        [x - 50, y + height, x + width + 50, y + height + 50],\n        [x - 50, y, x, y + height],\n    ];\n    const xStep = 20; // 每次移动的 x 距离, 这里假设含有可见文本的元素的最小宽度是 20\n    const yStep = 10; // 每次移动的 y 距离, 这里假设含有可见文本的元素的最小高度是 10\n    const neighborElements = [];\n    const elementLocations = [];\n    areas.forEach((area) => {\n        const [x1, y1, x2, y2] = area;\n        for (let i = x1; i < x2; i += xStep) {\n            for (let j = y1; j < y2; j += yStep) {\n                const point = { x: i, y: j };\n                if (doesPointInLocation(point, elementLocations)) {\n                    continue;\n                }\n                const neighborElement = getOwnElement(excludeContainers, point);\n                neighborElement && elementLocations.push(getElementLocation(neighborElement));\n                isValidNeighborElement(neighborElement, element) && neighborElements.push(neighborElement);\n            }\n        }\n    });\n    // 获取元素周围的文本\n    const textListByString = uniqElements(neighborElements\n        // 过滤掉高度大于 100 的元素\n        .filter((element) => getElementHeight(element) <= 100)).reduce((textMap, currentElement) => {\n        const text = getVisibleText(currentElement); // 'src \\n  上传打包后的内容'\n        textMap[text.join(' ')] = text; // 使用 map 是为了解决元素周围的文本重复的问题\n        return textMap;\n    }, {});\n    return Object.values(textListByString).flat().filter(Boolean); // 原始数据不进行去重\n}\n//# sourceMappingURL=neighbor.js.map","/**\n * 获取 element 的属性\n */\nimport { commonTagList, propertyNames } from './constant';\nimport { elementIsVisible, getElementByXPath, } from './utils/index';\nimport { getIdXPath, getXPath } from './utils/locator';\nimport { getElementLocation, getNeighborText, getVisibleText } from './utils/neighbor';\nexport { getElementByXPath, getElementByCssSelector, getElementBySelector } from './utils/index';\nexport { getIdXPath, getXPath } from './utils/locator';\nexport { elementIsVisible } from './utils/index';\n/**\n * 获取元素 classList\n * @param element HTMLElement\n * @returns class 数组\n */\nfunction getElementClassList(element) {\n    return Array.from(element.classList).filter((className) => !['undefined', 'null'].includes(className));\n}\nfunction isButtonElement(element) {\n    if (!element) {\n        return false;\n    }\n    const { tagName, className } = element;\n    if (tagName === 'BUTTON') {\n        return true;\n    }\n    if (tagName === 'A' && /btn|button/i.test(className || '')) {\n        return true;\n    }\n    if (tagName === 'INPUT' && ['button', 'submit', 'reset'].includes(element.type)) {\n        return true;\n    }\n    return false;\n}\nfunction getElementArea(location) {\n    const { width, height } = location;\n    return width * height;\n}\nfunction getElementShape(location) {\n    const { width, height } = location;\n    return Math.floor((width * 100) / height);\n}\nfunction getTagName(element) {\n    return element.tagName;\n}\nfunction getName(element) {\n    return element.name || '';\n}\nfunction getId(element) {\n    return element.id || '';\n}\nfunction getHref(element) {\n    return element.href || '';\n}\nfunction getAlt(element) {\n    return element.alt || '';\n}\nconst funcByPropertyName = {\n    tag: getTagName,\n    classList: getElementClassList,\n    name: getName,\n    id: getId,\n    href: getHref,\n    alt: getAlt,\n    xpath: getXPath,\n    idxpath: getIdXPath,\n    isButton: isButtonElement,\n    location: getElementLocation,\n    area: (_element, data) => getElementArea(data.location),\n    shape: (_element, data) => getElementShape(data.location),\n    visibleText: getVisibleText,\n    neighborText: (element, data, option) => getNeighborText(element, data.location, option),\n};\n/**\n * 获取单个元素的属性定位参数\n * @param element\n * @param option\n * @returns\n */\nexport function getElementProperties(element, option) {\n    if (!element) {\n        console.warn('element is null');\n        return {};\n    }\n    if (!document.contains(element)) {\n        console.warn('element is not in document');\n        return {};\n    }\n    // 处理 option\n    const newOption = {\n        excludeContainers: [],\n        propertyNames: [...propertyNames],\n        ...(option || {}),\n    };\n    newOption.propertyNames = Array.from(new Set(['location', ...newOption.propertyNames])); // location 一定会被获取到\n    const data = {};\n    newOption.propertyNames.forEach((propertyName) => {\n        // @ts-ignore\n        data[propertyName] = funcByPropertyName[propertyName](element, data, newOption);\n    });\n    return data;\n}\n/**\n * 获取候选元素的属性定位参数\n * @param tagList\n * @returns 返回逗号分隔的选择器, 例如 div,span,p\n */\nexport function getCommonSelector(tagList) {\n    const lowerCaseTagList = (tagList || []).map((tag) => tag.toLowerCase());\n    return [...new Set([...commonTagList, ...lowerCaseTagList])].join(',');\n}\n/**\n * 获取候选元素的属性定位参数\n * @param selector\n * @returns\n */\nexport function getCandidateElementsPropertiesBySelector(selector, option) {\n    const elements = document.querySelectorAll(selector);\n    option = { isAllDom: false, ...option };\n    return [...elements]\n        .filter((element) => option.isAllDom || elementIsVisible(element))\n        .map((element) => getElementProperties(element, option));\n}\nexport function getElementPropertiesByXpath(xpath, option) {\n    const element = getElementByXPath(xpath);\n    return getElementProperties(element, option);\n}\n//# sourceMappingURL=property.js.map"],"names":[],"mappings":"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"}